<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Game 055 — JavaScript DOM Game</title>
  <style>
    :root{--t:#0b1220;--m:#5b6473;--bd:#e6eaf1;--blue:#0a4fd6;--bg:#f7f9fc;--card:#ffffff;--soft:#eef3ff}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:var(--bg);color:var(--t)}
    header{padding:18px 16px;border-bottom:1px solid var(--bd);background:#fff}
    header h1{margin:0;font-size:20px}
    header p{margin:6px 0 0;color:var(--m)}
    main{max-width:980px;margin:0 auto;padding:16px}
    .row{display:grid;gap:12px}
    .card{background:var(--card);border:1px solid var(--bd);border-radius:16px;padding:14px;box-shadow:0 10px 25px rgba(0,0,0,.05)}
    .btn{appearance:none;border:1px solid var(--bd);background:#fff;border-radius:12px;padding:10px 12px;cursor:pointer;font-weight:600}
    .btn.primary{background:var(--blue);border-color:var(--blue);color:#fff}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .muted{color:var(--m)}
    .tag{display:inline-block;font-size:12px;color:var(--m);background:var(--soft);border:1px solid #d8e4ff;padding:2px 8px;border-radius:999px}
    a{color:var(--blue);text-decoration:none}
    a:hover{text-decoration:underline}
    code{background:var(--soft);border:1px solid #d8e4ff;padding:1px 6px;border-radius:8px}
    
  </style>
</head>
<body>
  <header>
    <h1>Game 055 — JavaScript DOM Game</h1>
    <p class="muted">Self-contained DOM game • No build tools • Open in browser</p>
  </header>
  <main>
    
<div class="row">
  <div class="card">
    <p>Click as many times as you can before the timer ends. Every click adds points.</p>
    <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:10px">
      <button class="btn primary" id="btnClick">Click!</button>
      <button class="btn" id="btnStart">Start</button>
      <button class="btn" id="btnReset">Reset</button>
      <span class="tag">Time: <b id="time">14</b>s</span>
      <span class="tag">Score: <b id="score">0</b></span>
    </div>
    <p class="muted" id="msg" style="margin-top:10px">Tip: Start, then click fast.</p>
  </div>
  <div class="card">
    <h3 style="margin:0 0 8px">What you learn</h3>
    <ul>
      <li>Event listeners and state variables</li>
      <li>Timers with <code>setInterval</code></li>
      <li>UI updates (rendering state)</li>
    </ul>
  </div>
</div>

    <p style="margin-top:14px"><a href="../index.html">← Back to Chapter</a> • <a href="../../index.html">Root Launcher</a></p>
  </main>
  <script>
  "use strict";
  
const btnClick = document.getElementById('btnClick');
const btnStart = document.getElementById('btnStart');
const btnReset = document.getElementById('btnReset');
const timeEl = document.getElementById('time');
const scoreEl = document.getElementById('score');
const msg = document.getElementById('msg');

let defaultTime = 14;
let timeLeft = defaultTime;
let score = 0;
let running = false;
let id = null;

function render(){
  timeEl.textContent = String(timeLeft);
  scoreEl.textContent = String(score);
  btnClick.disabled = !running;
}

function stopGame(reason){
  running = false;
  clearInterval(id);
  id = null;
  msg.textContent = reason;
  render();
}

btnStart.addEventListener('click', () => {
  if (running) return;
  running = true;
  msg.textContent = 'Go!';
  render();
  id = setInterval(() => {
    timeLeft--;
    render();
    if (timeLeft <= 0) stopGame(`Time! Final score: ${score}`);
  }, 1000);
});

btnClick.addEventListener('click', () => {
  if (!running) return;
  score++;
  render();
});

btnReset.addEventListener('click', () => {
  timeLeft = defaultTime;
  score = 0;
  stopGame('Reset. Press Start.');
});
stopGame('Press Start.');

  </script>
</body>
</html>
